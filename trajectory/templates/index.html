{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link type="text/css" rel="stylesheet" href="/static/trajectory/css/og/og.css" />
    <script charset="utf-8" type="text/javascript" src="/static/trajectory/js/og/og.umd.js"></script>
    <script charset="utf-8" type="text/javascript" src="/static/trajectory/js/og/og.umd.js.map"></script>
    <title>Trajectory Homepage</title>
    
    <script>

    document.addEventListener('DOMContentLoaded', (event) => {
    	  //the event occurred
    	
        let osm = new og.layer.XYZ("OpenStreetMap", {
            isBaseLayer: true,
            url: "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
            visibility: true,
            attribution: 'Data @ OpenStreetMap contributors, ODbL'
        });
	    
    	// a HTMLDivElement which its id is `globus`
        let globus = new og.Globe({
            "target": "globus", 
            "name": "Earth",
            "terrain": new og.terrain.GlobusTerrain(),
            "layers": [osm],
            autoActivated: true,
            viewExtent: [-130. , 25. , -70. , 50. ]
        });
	    
	let layerVector = new og.layer.Vector("Airports", {
                clampToGround: true
            });
	layerVector.addTo(globus.planet);
	    
	let show = true;
    	
        document.getElementById("btnAirports").onclick = function () {
            
        	if (show) {
			show = false;
			document.getElementById("btnAirports").innerText = "Hide Airports";
			layerVector.add(new og.Entity({
				    lonlat: [-84.428067, 33.636719],
				    label: {
					text: "Atlanta",
					outline: 0.77,
					outlineColor: "rgba(255,255,255,.4)",
					size: 27,
					color: "black",
					offset: [10, -2]
				    },
				    billboard: {
					src: "/static/trajectory/images/marker.png",
					width: 32,
					height: 32,
					offset: [0, 32]
				    }
				}));
		} else {
			show = true;
			document.getElementById("btnAirports").innerText = "Show Airports";
			let entities = layerVector.getEntities();
			layerVector.removeEntities(entities);
		}
        };
    })
    </script>
</head>
<body>
	<table>
		<tr>
			<td width="30%">
				<div>
					<h3>Welcome to the Flight Profile tool.</h3>
				</div>
			</td>
			<td width="30%">
				<div>
    					<button id="btnAirports" >Show Airports</button>
				</div>
			</td>
			<td width="30%">
				<div>
    					<button id="btnWayPoints" >Show WayPoints</button>
				</div>
			</td>
		</tr>
		<tr>
			<td span='3'>
				<div id="globus" style="width:100%;height:100%"></div>
			</td>
		</tr>
	</table>

</body>
</html>
